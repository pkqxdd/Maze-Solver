<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Saturday, October 14 &#8212; The Maze Solver</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tuesday, October 17" href="Oct17.html" />
    <link rel="prev" title="Friday, October 13" href="Oct13.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="../_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="../index.html">The Maze Solver</a> &#187;</li>
          <li><a href="index.html" accesskey="U">The Journal</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="saturday-october-14">
<h1>Saturday, October 14<a class="headerlink" href="#saturday-october-14" title="Permalink to this headline">¶</a></h1>
<p>I couldn’t sleep until about 2 a.m. last night, because I was too excited about the project I will be doing. Despite the fact that I do not have any parts to work on, I can still write the abstract data structure for the maze solver. In my programming class (MITx 6.00.2x), I learned that abstraction is very important. When it is done properly, codes can work the same way even if the low level implementation is changed completely. This is kind of like Python the language itself: there are a lot of variation of implementation (CPython, PyPy, Jython, IronPython, etc.) on different platforms (Windows, macOS, Linux, etc.), but the programming interface remains the same throughout.</p>
<p>This is actually similar to what I’m about to do: I will run the same program on two different platforms (macOS and Raspbian) at the same time. They will have same result, but very different on low level details:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Platform</th>
<th class="head">Input From</th>
<th class="head">Output To</th>
<th class="head">Output Formats</th>
<th class="head">Purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Raspberry Pi</td>
<td>Arduino</td>
<td>Arduino</td>
<td>Commands</td>
<td>Control the robot to explore the maze</td>
</tr>
<tr class="row-odd"><td>Macbook</td>
<td>Relayed data from Raspberry Pi</td>
<td>Screen</td>
<td>Graphics</td>
<td>Display and visualize the real-time progress of the robot</td>
</tr>
</tbody>
</table>
<p>So I wrote the <a class="reference internal" href="../Tutorial/AbstractBaseClasses.html#abc"><span class="std std-ref">Abstract Base Classes</span></a> and <a class="reference internal" href="../Tutorial/Data_Structure.html#data-structures"><span class="std std-ref">Data Structures</span></a>. Below are the codes as of today, the final results may be very different.</p>
<div class="section" id="abstractbaseclasses-py">
<h2>AbstractBaseClasses.py<a class="headerlink" href="#abstractbaseclasses-py" title="Permalink to this headline">¶</a></h2>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="ch">#!/usr/local/bin/python3.6</span>
<span class="c1"># -*- coding:utf-8 -*-</span>

<span class="k">class</span> <span class="nc">DirectionNotExist</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">class</span> <span class="nc">BaseNode</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;A node is the intersection of two lines, or a dead end&quot;&quot;&quot;</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">next_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># The radius of a node is actually the tolerance of error in a node&#39;s coordinate. The shape of a node is actually a squre, not a circle</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Assign each class instance a unique id number&quot;&quot;&quot;</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">instance</span><span class="o">.</span><span class="n">__index</span> <span class="o">=</span> <span class="n">BaseNode</span><span class="o">.</span><span class="n">next_index</span>
        <span class="n">BaseNode</span><span class="o">.</span><span class="n">next_index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">BaseNode</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">instance</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">coordinate</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="n">N</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">E</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">W</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param coordinate: a 2-tuple (x,y)</span>
<span class="sd">        :param N: An instance of BaseEdge, default to None</span>
<span class="sd">        :param S: An instance of BaseEdge, default to None</span>
<span class="sd">        :param E: An instance of BaseEdge, default to None</span>
<span class="sd">        :param W: An instance of BaseEdge, default to None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">coordinate</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">int</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
            <span class="n">err</span> <span class="o">=</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Coordinate must be a tuple (x,y), where x and y are int&quot;</span><span class="p">)</span>
            <span class="n">err</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">raise</span> <span class="n">err</span>



        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span> <span class="o">=</span> <span class="n">coordinate</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">north_edge</span> <span class="o">=</span> <span class="n">N</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">south_edge</span> <span class="o">=</span> <span class="n">S</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">east_edge</span> <span class="o">=</span> <span class="n">E</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">west_edge</span> <span class="o">=</span> <span class="n">W</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__index</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Make nodes hashable so that they can be stored in a hashtable&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;BaseNode {i} at {coordinate}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">coordinate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">BaseNode</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">index</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> cannot be compared with instance of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">BaseEdge</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;An edge is the part that connecting two nodes&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">length</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">add_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">BaseNode</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">OverflowError</span><span class="p">(</span><span class="s2">&quot;An edge can only connect nodes. Current parents are </span><span class="si">%s</span><span class="s2"> and </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is already a node of this edge&quot;</span> <span class="o">%</span> <span class="n">node</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;BaseEdge with length of &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&gt;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="graph-py">
<h2>Graph.py<a class="headerlink" href="#graph-py" title="Permalink to this headline">¶</a></h2>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">AbstractBaseClasses</span> <span class="kn">import</span> <span class="n">BaseNode</span><span class="p">,</span> <span class="n">BaseEdge</span><span class="p">,</span> <span class="n">DirectionNotExist</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">class</span> <span class="nc">Node</span><span class="p">(</span><span class="n">BaseNode</span><span class="p">):</span>
    <span class="nb">map</span><span class="o">=</span><span class="p">{}</span> <span class="c1"># A dict that stores coverage area of a node. This is used for fast overlap testing</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">coordinate</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">coordinate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">=</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">=</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Add this node to map</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">map</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">+</span><span class="n">i</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">+</span><span class="n">j</span><span class="p">)]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">map</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">j</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">map</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">j</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">map</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">j</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">find_overlap</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span><span class="o">*</span><span class="n">coordinate</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;returns the index number of the overlapping node, -1 if no such node is found&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">coordinate</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">int</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
            <span class="n">err</span> <span class="o">=</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Coordinate must be a tuple (x,y), where x and y are int&quot;</span><span class="p">)</span>
            <span class="n">err</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">raise</span> <span class="n">err</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">map</span><span class="p">[</span><span class="n">coordinate</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;Node {i} at {coordinate}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">coordinate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">W</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">west_edge</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">west_edge</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DirectionNotExist</span><span class="p">(</span>
                    <span class="s2">&quot;Attempting to access a non-existent edge West of node {index} at {coordinate}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                            <span class="n">coordinate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">E</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">east_edge</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">east_edge</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DirectionNotExist</span><span class="p">(</span>
                    <span class="s2">&quot;Attempting to access a non-existent edge East of node {index} at {coordinate}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                            <span class="n">coordinate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">N</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">north_edge</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">north_edge</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DirectionNotExist</span><span class="p">(</span>
                    <span class="s2">&quot;Attempting to access a non-existent edge North of node {index} at {coordinate}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">coordinate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">S</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">south_edge</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">south_edge</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DirectionNotExist</span><span class="p">(</span>
                    <span class="s2">&quot;Attempting to access a non-existent edge South of node {index} at {coordinate}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">coordinate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">add_edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">edge</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">BaseEdge</span><span class="p">),</span> <span class="s2">&quot;Edge must be an instance of BaseEdge&quot;</span>
            <span class="k">assert</span> <span class="p">(</span><span class="n">direction</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;W&quot;</span><span class="p">)),</span> <span class="s2">&quot;Direction must be  W,E,S or N&quot;</span>
        <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>  <span class="c1"># Transform the AssertionError into a TypeError</span>
            <span class="n">err</span> <span class="o">=</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="n">err</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">raise</span> <span class="n">err</span>

        <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="s2">&quot;N&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">north_edge</span> <span class="o">=</span> <span class="n">edge</span>
        <span class="k">elif</span> <span class="n">direction</span> <span class="o">==</span> <span class="s2">&quot;S&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">south_edge</span> <span class="o">=</span> <span class="n">edge</span>
        <span class="k">elif</span> <span class="n">direction</span> <span class="o">==</span> <span class="s2">&quot;E&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">east_edge</span> <span class="o">=</span> <span class="n">edge</span>
        <span class="k">elif</span> <span class="n">direction</span> <span class="o">==</span> <span class="s2">&quot;W&quot;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;adding west&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">west_edge</span> <span class="o">=</span> <span class="n">edge</span>

        <span class="n">edge</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">connect_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="n">BaseNode</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Node must be an instance of BaseNode&quot;</span><span class="p">)</span>

        <span class="n">dy</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="n">dx</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dy</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="ow">and</span> <span class="n">dx</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;{node0} and {node1} are not in a straight line&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node1</span><span class="o">=</span><span class="n">node</span><span class="p">,</span><span class="n">node0</span><span class="o">=</span><span class="bp">self</span><span class="p">))</span>
        <span class="k">raise</span> <span class="bp">NotImplemented</span>



<span class="k">class</span> <span class="nc">DeadEnd</span><span class="p">(</span><span class="n">BaseNode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A dead end has only one direction&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">coordinate</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">coordinate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">=</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">=</span><span class="n">coordinate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edge</span><span class="o">=</span><span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="o">=</span><span class="bp">None</span>


    <span class="k">def</span> <span class="nf">add_edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">edge</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">BaseEdge</span><span class="p">),</span> <span class="s2">&quot;Edge must be an instance of BaseEdge&quot;</span>
            <span class="k">assert</span> <span class="p">(</span><span class="n">direction</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;W&quot;</span><span class="p">)),</span> <span class="s2">&quot;Direction must be  W,E,S or N&quot;</span>
        <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>  <span class="c1"># Transform the AssertionError into a TypeError</span>
            <span class="n">err</span> <span class="o">=</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="n">err</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">raise</span> <span class="n">err</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">edge</span><span class="o">=</span><span class="n">edge</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="o">=</span><span class="n">direction</span>
        <span class="n">edge</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_edge</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns a tuple (edge,direction)&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">edge</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">edge</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DirectionNotExist</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;DeadEnd {i} at {coordinate}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">coordinate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Edge</span><span class="p">(</span><span class="n">BaseEdge</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">length</span><span class="p">,</span><span class="n">node0</span><span class="p">,</span><span class="n">node1</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connecting_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_index</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Node</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the node to which the origin node is connecting&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">origin_index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">origin_index</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Node </span><span class="si">%d</span><span class="s2"> is not connected with this edge&quot;</span> <span class="o">%</span> <span class="n">origin_index</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;Edge of length {length} connecting {node0} to {node1}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">node0</span><span class="o">=</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">node1</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

<span class="k">class</span> <span class="nc">EdgeNotDiscovered</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="k">pass</span>


<span class="k">class</span> <span class="nc">UndiscoveredEdge</span><span class="p">(</span><span class="n">BaseEdge</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>  <span class="c1"># This edge is undiscovered so its length is set to infinity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connecting_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_index</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Node</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the node to which the origin node is connecting&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="n">EdgeNotDiscovered</span><span class="p">(</span><span class="s2">&quot;This edge is not discovered yet. We don&#39;t know where it is connecting to&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/index.html">The Tutorial</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The Journal</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Plan.html">Project Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="Oct13.html">Friday, October 13</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Saturday, October 14</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#abstractbaseclasses-py">AbstractBaseClasses.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graph-py">Graph.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Oct17.html">Tuesday, October 17</a></li>
<li class="toctree-l2"><a class="reference internal" href="Oct24.html">Tuesday, October 24</a></li>
<li class="toctree-l2"><a class="reference internal" href="Oct25.html">Wednesday, October 25</a></li>
<li class="toctree-l2"><a class="reference internal" href="Oct26.html">Thursday, October 26</a></li>
<li class="toctree-l2"><a class="reference internal" href="Oct27.html">Friday, October 27</a></li>
<li class="toctree-l2"><a class="reference internal" href="Oct28.html">Saturday, October 28</a></li>
<li class="toctree-l2"><a class="reference internal" href="Oct30.html">Monday, October 30</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nov6.html">Monday, November 6</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nov7.html">Tuesday, November 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nov8.html">Wednesday, November 8</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nov10.html">Friday, November 10</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nov12.html">Sunday, November 12</a></li>
<li class="toctree-l2"><a class="reference internal" href="Nov13.html">Monday, November 13</a></li>
<li class="toctree-l2"><a class="reference internal" href="References.html">References</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Oct13.html"
                        title="previous chapter">Friday, October 13</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Oct17.html"
                        title="next chapter">Tuesday, October 17</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Oct17.html" title="Tuesday, October 17"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Oct13.html" title="Friday, October 13"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Ruocheng Wang.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>